import React, { useMemo, createContext } from "react";
import { useGLTF, Merged } from "@react-three/drei";

export const ModelContext = createContext({});

export function CardInstances({
  children,
  ...props
}: {
  children: React.ReactNode;
}) {
  const { nodes } = useGLTF("/assets/models/cards/Cards.glb");

  const instances = useMemo(
    () => ({
      Cube: nodes.Cube006,
      Cube1: nodes.Cube006_1,
      Cube2: nodes.Cube002,
      Cube3: nodes.Cube002_1,
      Cube4: nodes.Cube004,
      Cube5: nodes.Cube004_1,
      Cube6: nodes.Cube003,
      Cube7: nodes.Cube003_1,
      Cube8: nodes.Cube005,
      Cube9: nodes.Cube005_1,
      Cube10: nodes.Cube007,
      Cube11: nodes.Cube007_1,
      Cube12: nodes.Cube010,
      Cube13: nodes.Cube010_1,
      Cube14: nodes.Cube009,
      Cube15: nodes.Cube009_1,
      Cube16: nodes.Cube011,
      Cube17: nodes.Cube011_1,
      Cube18: nodes.Cube013,
      Cube19: nodes.Cube013_1,
      Cube20: nodes.Cube015,
      Cube21: nodes.Cube015_1,
      Cube22: nodes.Cube014,
      Cube23: nodes.Cube014_1,
      Cube24: nodes.Cube016,
      Cube25: nodes.Cube016_1,
      Cube26: nodes.Cube017,
      Cube27: nodes.Cube017_1,
      Cube28: nodes.Cube019,
      Cube29: nodes.Cube019_1,
      Cube30: nodes.Cube018,
      Cube31: nodes.Cube018_1,
      Cube32: nodes.Cube020,
      Cube33: nodes.Cube020_1,
      Cube34: nodes.Cube001,
      Cube35: nodes.Cube001_1,
      Cube36: nodes.Cube012,
      Cube37: nodes.Cube012_1,
      Cube38: nodes.Cube008,
      Cube39: nodes.Cube008_1,
      Cube40: nodes.Cube025,
      Cube41: nodes.Cube025_1,
      Cube42: nodes.Cube026,
      Cube43: nodes.Cube026_1,
      Cube44: nodes.Cube028,
      Cube45: nodes.Cube028_1,
      Cube46: nodes.Cube027,
      Cube47: nodes.Cube027_1,
      Cube48: nodes.Cube029,
      Cube49: nodes.Cube029_1,
      Cube50: nodes.Cube034,
      Cube51: nodes.Cube034_1,
      Cube52: nodes.Cube036,
      Cube53: nodes.Cube036_1,
      Cube54: nodes.Cube035,
      Cube55: nodes.Cube035_1,
      Cube56: nodes.Cube037,
      Cube57: nodes.Cube037_1,
      Cube58: nodes.Cube030,
      Cube59: nodes.Cube030_1,
      Cube60: nodes.Cube032,
      Cube61: nodes.Cube032_1,
      Cube62: nodes.Cube031,
      Cube63: nodes.Cube031_1,
      Cube64: nodes.Cube033,
      Cube65: nodes.Cube033_1,
      Cube66: nodes.Cube021,
      Cube67: nodes.Cube021_1,
      Cube68: nodes.Cube023,
      Cube69: nodes.Cube023_1,
      Cube70: nodes.Cube022,
      Cube71: nodes.Cube022_1,
      Cube72: nodes.Cube024,
      Cube73: nodes.Cube024_1,
      Cube74: nodes.Cube038,
      Cube75: nodes.Cube038_1,
      Cube76: nodes.Cube040,
      Cube77: nodes.Cube040_1,
      Cube78: nodes.Cube039,
      Cube79: nodes.Cube039_1,
      Cube80: nodes.Cube041,
      Cube81: nodes.Cube041_1,
      Cube82: nodes.Cube042,
      Cube83: nodes.Cube042_1,
      Cube84: nodes.Cube044,
      Cube85: nodes.Cube044_1,
      Cube86: nodes.Cube043,
      Cube87: nodes.Cube043_1,
      Cube88: nodes.Cube045,
      Cube89: nodes.Cube045_1,
      Cube90: nodes.Cube051,
      Cube91: nodes.Cube051_1,
      Cube92: nodes.Cube053,
      Cube93: nodes.Cube053_1,
      Cube94: nodes.Cube052,
      Cube95: nodes.Cube052_1,
      Cube96: nodes.Cube054,
      Cube97: nodes.Cube054_1,
      Cube98: nodes.Cube046,
      Cube99: nodes.Cube046_1,
      Cube100: nodes.Cube047,
      Cube101: nodes.Cube047_1,
      Cube102: nodes.Cube048,
      Cube103: nodes.Cube048_1,
      Cube104: nodes.Cube049,
      Cube105: nodes.Cube049_1,
    }),
    [nodes],
  );

  return (
    <Merged meshes={instances} {...props}>
      {(instances: {}) => (
        <ModelContext.Provider value={instances}>
          {children}
        </ModelContext.Provider>
      )}
    </Merged>
  );
}
